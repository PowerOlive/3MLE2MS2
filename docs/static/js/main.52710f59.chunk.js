(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,n){e.exports=n.p+"static/media/mushroom.7f63adae.png"},134:function(e,t,n){e.exports=n.p+"static/media/bg2.3fec2c14.jpg"},225:function(e,t,n){e.exports=n(400)},230:function(e,t,n){},239:function(e,t,n){},243:function(e,t,n){},396:function(e,t,n){},398:function(e,t,n){},400:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"DEFAULT_VOL",function(){return ee}),n.d(a,"MIN_VOL",function(){return te}),n.d(a,"MAX_VOL",function(){return ne}),n.d(a,"default",function(){return ae});var r={};n.r(r),n.d(r,"DEFAULT_TEMPO",function(){return re}),n.d(r,"MIN_TEMPO",function(){return ie}),n.d(r,"MAX_TEMPO",function(){return oe}),n.d(r,"MML_PPQ",function(){return le}),n.d(r,"default",function(){return se});var i={};n.r(i),n.d(i,"DEFAULT_NOTE_DIVISION",function(){return ce}),n.d(i,"MIN_NOTE_DIVISION",function(){return ue}),n.d(i,"MAX_NOTE_DIVISION",function(){return me}),n.d(i,"default",function(){return ge});var o={};n.r(o),n.d(o,"OCTAVE_UP",function(){return he}),n.d(o,"OCTAVE_DOWN",function(){return pe}),n.d(o,"DEFAULT_OCTAVE",function(){return de}),n.d(o,"MIN_OCTAVE",function(){return fe}),n.d(o,"MAX_OCTAVE",function(){return ve}),n.d(o,"default",function(){return be});var l={};n.r(l),n.d(l,"default",function(){return ye});var s={};n.r(s),n.d(s,"numberNoteToNote",function(){return ke}),n.d(s,"noteToNumberNote",function(){return xe}),n.d(s,"default",function(){return Ne});var c=n(0),u=n.n(c),m=n(22),g=n.n(m),h=(n(230),n(5)),p=n(11),d=n(19),f=n(18),v=n(20),b=n(21),y=n(130),E=n.n(y),w=function(e){var t=e.className,n=e.style;return u.a.createElement("svg",{className:t,style:Object(b.a)({},n),viewBox:"0 0 65 65"},u.a.createElement("g",null,u.a.createElement("path",{d:"m32.5 4.999c-5.405 0-10.444 1.577-14.699 4.282l-5.75-5.75v16.11h16.11l-6.395-6.395c3.18-1.787 6.834-2.82 10.734-2.82 12.171 0 22.073 9.902 22.073 22.074 0 2.899-0.577 5.664-1.599 8.202l4.738 2.762c1.47-3.363 2.288-7.068 2.288-10.964 0-15.164-12.337-27.501-27.5-27.501z"}),u.a.createElement("path",{d:"m43.227 51.746c-3.179 1.786-6.826 2.827-10.726 2.827-12.171 0-22.073-9.902-22.073-22.073 0-2.739 0.524-5.35 1.439-7.771l-4.731-2.851c-1.375 3.271-2.136 6.858-2.136 10.622 0 15.164 12.336 27.5 27.5 27.5 5.406 0 10.434-1.584 14.691-4.289l5.758 5.759v-16.112h-16.111l6.389 6.388z"})))},O=n(80),k=n.n(O),x=n(81),N=n.n(x),j="mml",C="ms2mml",D=function(e){if(e&&e.name)return[j,C].filter(function(t){return t===e.name.split(".").slice(-1)[0].toLowerCase()})[0]};var M=function(e){return".".concat(e.toLowerCase(),",.").concat(e.toUpperCase())},T=(M(j),M(C),M(j)+","+M(C)),A=n(55),_=10,S=function(e){var t=e[0].length;return e.index+t},B=function(e){return e.split("\n").filter(function(e){return!e.trim().startsWith("//")}).map(function(e){return e.replace(/(\/\*.*\*\/|\s)*/g,"").trim()}).join("")},I=function(e){var t,n=[],a=[],r=/\[Channel[0-9]+\]/g;do{(t=r.exec(e))&&n.push(t)}while(t);if(!n||0===n.length)throw Error("Does not contain tracks!");n.push({index:e.lastIndexOf("[3MLE EXTENSION]")});for(var i=0;i<n.length-1;i++)a.push(B(e.slice(S(n[i]),n[i+1].index)));return a};function F(e,t,n){for(var a in e)if(e.hasOwnProperty(a)){if(e[a]===t)return e[a]=n,!0;if("object"===typeof e[a]&&null!==e[a]&&F(e[a],t,n))return!0}return!1}var G=n(39),P=n.n(G),L={attributeNamePrefix:"@_",ignoreAttributes:!1,cdataTagName:"__cdata",cdataPositionChar:"\\c",format:!0,indentBy:"  ",supressEmptyNode:!1};function R(e){return'<?xml version="1.0" encoding="utf-8"?>\n'+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;return new G.j2xParser(t).parse(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:L)}var V=n(78),U=n.n(V),z={attributeNamePrefix:"@_",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,cdataTagName:"__cdata",cdataPositionChar:"\\c",localeRange:"",parseTrueNumberOnly:!1,attrValueProcessor:function(e){return U.a.decode(e,{isAttributeValue:!0})},tagValueProcessor:function(e){return U.a.decode(e)}};var W=n(57),X="iso-8859-1",J="Untitled",H="Big Buck Bunny",q=function e(t,n){var a={};for(var r in t)if(t.hasOwnProperty(r)){if(t[r]===n)return r;if("object"===typeof t[r]&&null!==t[r]){var i=e(t[r],n);i&&(a[r]=i)}}return a}(A,"#text"),K=function(e){return e.split("\n").filter(function(e){return!e.trim().startsWith("//")}).map(function(e){return e.replace(/(\/\*.*\*\/|\s)*/g,"").trim()}).join("")};function Q(e,t){var n=[];for(var a in e)if("object"===typeof e[a]&&null!==e[a])n.push.apply(n,Object(W.a)(Q(e[a],t[a])));else if("string"===typeof e[a]){t.hasOwnProperty(a)&&t[a].hasOwnProperty(e[a])&&n.push(t[a][e[a]].trim())}return n}n(239);var $=n(9),Y=n.n($),Z=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"run",value:function(e){throw new Error("Not implemented")}}]),e}(),ee=8,te=0,ne=15,ae=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).value="number"===typeof e&&e>=te&&e<=ne?e:ee,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){e.volume=this.value/ne}},{key:"toString",value:function(){return"v"+this.value}}],[{key:"handleVolumeChange",value:function(e){return"v"!==e[0]&&"v"!==e[1]?e:new t(parseInt(e.slice("&"===e[0]?2:1)))}}]),t}(Z),re=120,ie=32,oe=255,le=96,se=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).value="number"===typeof e&&e>=ie&&e<=oe?e:re,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){e.tempo=this.value}},{key:"toString",value:function(){return"t"+this.value}}],[{key:"handleTempoChange",value:function(e){return"t"!==e[0]&&"t"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),new t(parseInt(e.slice(1))))}}]),t}(Z),ce=4,ue=1,me=64,ge=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).value="number"===typeof e&&e>=ue&&e<=me?e:ce,n.dotted=!!a,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){e.measureDivision=this}},{key:"toString",value:function(){return"l"+this.value+(this.dotted?".":"")}}],[{key:"handleMDivChange",value:function(e){return"l"!==e[0]&&"l"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),"."===e[e.length-1]?new t(parseInt(e.slice(1,-1)),!0):new t(parseInt(e.slice(1))))}}]),t}(Z),he="UP",pe="DOWN",de=4,fe=0,ve=8,be=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).value=e===he||e===pe?e:"number"===typeof e&&e>=fe&&e<=ve?e:null,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){this.value===he&&e.octave<ve?e.octave++:this.value===pe&&e.octave>fe?e.octave--:"number"===typeof this.value&&(e.octave=this.value)}},{key:"toString",value:function(){switch(this.value){case he:return">";case pe:return"<";case null:return"";default:return"o"+this.value}}}],[{key:"handleOctaveChange",value:function(e){return"o"!==e[0]&&"<"!==e[0]&&">"!==e[0]&&"o"!==e[1]&&"<"!==e[1]&&">"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),">"===e[0]?new t(he):"<"===e[0]?new t(pe):new t(parseInt(e.slice(1))))}}]),t}(Z),ye=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).value="number"===typeof e&&e>=1&&e<=64?e:null,n.dotted=!!a,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){e.addRest(De(this,e.measureDivision,e.tempo))}},{key:"toString",value:function(){return(this.value?"r"+this.value:"r")+(this.dotted?".":"")}}],[{key:"handleRestChange",value:function(e){return"r"!==e[0]&&"r"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),"."===e[e.length-1]?new t(parseInt(e.slice(1,-1)),!0):new t(parseInt(e.slice(1))))}}]),t}(Z),Ee={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},we={C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11},Oe={"E#":"F",Fb:"E"},ke=function(e){var t=Math.floor(e/12);return[Ee[e%12],t]},xe=function(e,t){return 12*t+we[e]},Ne=function(e){function t(e,n){var a,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e,n))).note=e,a.value="number"===typeof n&&n>0&&n<=64?n:null,r&&(a.dotted=!!r),i&&(a.tied=!!i),o&&(a.octave=o),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"run",value:function(e){var t=De(this,e.measureDivision,e.tempo),n=this.note.toString()+(this.octave?this.octave:e.octave);this.tied?e.addTie(n,t):e.playNote(n,t)}},{key:"toString",value:function(){var e=this.tied?"&":"";return this.octave?e+"n"+xe(this.note,this.octave):e+(this.note.toLowerCase()+(this.value?this.value:"")+(this.dotted?".":""))}}],[{key:"handleNoteChange",value:function(e){if(!e)return e;var n=e.toString().match(/^(&)?([a-g][-+#]?)([0-9]*)?(\.)?/);if(!n)return e;var a=n[2].toUpperCase().replace("-","b").replace("+","#");return Oe.hasOwnProperty(a)&&(a=Oe[a]),new t(a,n[3]?parseInt(n[3]):null,n[4],n[1])}},{key:"handleExactNoteChange",value:function(e){if(!e)return e;var n=e.toString().match(/^(&)?n([0-9]*)/);if(!n)return e;var a=ke(parseInt(n[2]));if(!a)throw new Error("wtf happened with note "+e);return new t(a[0],null,!1,n[1],a[1])}}]),t}(Z),je=le,Ce=(Object(b.a)({},a,r,i,o,l,s),function(e,t,n){return Math.min(Math.max(e,t),n)});function De(e,t,n){return 60*function(e,t){return e.value?Ce(Math.floor(384/e.value),6,384)*(e.dotted?1.5:1):e.dotted?1.5*Ce(Math.floor(384/t.value),6,384):Ce(Math.floor(384/t.value),6,384)*(t.dotted?1.5:1)}(e,t)/(n*je)}var Me=function(e){var t=[ge.handleMDivChange,se.handleTempoChange,ae.handleVolumeChange,be.handleOctaveChange,ye.handleRestChange,Ne.handleExactNoteChange,Ne.handleNoteChange],n=e.match(/(&?[a-z][-+#]?[0-9]*\.?|[<>])/g);if(!n)return[];for(var a=0;a<n.length;a++){var r=n[a];for(var i in t)r=t[i](r);n[a]=r}return n},Te=ge,Ae=ye,_e=Ne,Se=function(e){var t=new Be([]);try{for(var n=0;n<e.length;n++)e[n]instanceof Z&&e[n].run(t)}catch(a){console.error(a)}return t.playables},Be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.time=0,this.octave=de,this.tempo=re,this.measureDivision=new ge(ce),this.volume=ee/ne,this.previousNote=null,this.rest=0,this.playables=Object(W.a)(t)}return Object(p.a)(e,[{key:"playNote",value:function(e,t){this.time+=this.rest,this.rest=0,this.playables.push({note:e,duration:t,time:this.time,velocity:this.volume}),this.time+=t,this.previousNote=e}},{key:"addTie",value:function(e,t){if(!this.previousNote||!this.playables.length)return this.playNote(e,t);this.previousNote===e&&this.playables.slice(-1)[0].note===e?(this.playables[this.playables.length-1].duration+=t,this.time+=t,this.rest=0,this.previousNote=e):this.playNote(e,t)}},{key:"addRest",value:function(e){this.rest+=e,this.previousNote="R"}}]),e}();var Ie,Fe,Ge=function(e){for(var t=Me(e),n=0;n<t.length;n++)if(t[n]instanceof _e||t[n]instanceof Ae||t[n]instanceof Te){if(t[n].value>=64)throw new Error("Note resolution failed at note ".concat(t[n]," in ...(").concat(t.slice(Math.max(n-1,0),Math.min(n+2,t.length-1)).join(""),")...! Reimport your MML track with lower quantization (i.e. 1/32)"));t[n].value*=2}return t.join("")},Pe=function(e){var t=Me(e),n=new Le;t.splice(0,0,new Te(4));for(var a=0;a<t.length;a++)t[a]instanceof Te&&(t[a].value/=t[a].value>1?2:1,n.measureDivision=t[a].value/2),t[a].value?t[a]instanceof _e?(t[a].tied=!0,t.splice(a,0,new _e(t[a].note,t[a].value,t[a].dotted,t[a].tied,t[a].octave)),a++):t[a]instanceof Ae&&(t.splice(a,0,new Ae(t[a].value,t[a].dotted)),a++):.5===n.measureDivision&&(t[a]instanceof _e?(t[a].tied=!0,t.splice(a,0,new _e(t[a].note,t[a].value,t[a].dotted,t[a].tied,t[a].octave)),a++):t[a]instanceof Ae&&(t.splice(a,0,new Ae(t[a].value,t[a].dotted)),a++));return t.join("")},Le=function e(){Object(h.a)(this,e),this.measureDivision=Te.DEFAULT_NOTE_DIVISION/2},Re=Ge,Ve=n(79),Ue=n.n(Ve),ze=n(131),We="piano",Xe={A0:"A1.[mp3|ogg]",A1:"A2.[mp3|ogg]",A2:"A3.[mp3|ogg]",A3:"A4.[mp3|ogg]",A4:"A5.[mp3|ogg]",A5:"A6.[mp3|ogg]",A6:"A7.[mp3|ogg]",Ab0:"Ab1.[mp3|ogg]",Ab1:"Ab2.[mp3|ogg]",Ab2:"Ab3.[mp3|ogg]",Ab3:"Ab4.[mp3|ogg]",Ab4:"Ab5.[mp3|ogg]",Ab5:"Ab6.[mp3|ogg]",Ab6:"Ab7.[mp3|ogg]",B0:"B1.[mp3|ogg]",B1:"B2.[mp3|ogg]",B2:"B3.[mp3|ogg]",B3:"B4.[mp3|ogg]",B4:"B5.[mp3|ogg]",B5:"B6.[mp3|ogg]",B6:"B7.[mp3|ogg]",Bb0:"Bb1.[mp3|ogg]",Bb1:"Bb2.[mp3|ogg]",Bb2:"Bb3.[mp3|ogg]",Bb3:"Bb4.[mp3|ogg]",Bb4:"Bb5.[mp3|ogg]",Bb5:"Bb6.[mp3|ogg]",Bb6:"Bb7.[mp3|ogg]",C0:"C1.[mp3|ogg]",C1:"C2.[mp3|ogg]",C2:"C3.[mp3|ogg]",C3:"C4.[mp3|ogg]",C4:"C5.[mp3|ogg]",C5:"C6.[mp3|ogg]",C6:"C7.[mp3|ogg]",C7:"C8.[mp3|ogg]",D0:"D1.[mp3|ogg]",D1:"D2.[mp3|ogg]",D2:"D3.[mp3|ogg]",D3:"D4.[mp3|ogg]",D4:"D5.[mp3|ogg]",D5:"D6.[mp3|ogg]",D6:"D7.[mp3|ogg]",Db0:"Db1.[mp3|ogg]",Db1:"Db2.[mp3|ogg]",Db2:"Db3.[mp3|ogg]",Db3:"Db4.[mp3|ogg]",Db4:"Db5.[mp3|ogg]",Db5:"Db6.[mp3|ogg]",Db6:"Db7.[mp3|ogg]",E0:"E1.[mp3|ogg]",E1:"E2.[mp3|ogg]",E2:"E3.[mp3|ogg]",E3:"E4.[mp3|ogg]",E4:"E5.[mp3|ogg]",E5:"E6.[mp3|ogg]",E6:"E7.[mp3|ogg]",Eb0:"Eb1.[mp3|ogg]",Eb1:"Eb2.[mp3|ogg]",Eb2:"Eb3.[mp3|ogg]",Eb3:"Eb4.[mp3|ogg]",Eb4:"Eb5.[mp3|ogg]",Eb5:"Eb6.[mp3|ogg]",Eb6:"Eb7.[mp3|ogg]",F0:"F1.[mp3|ogg]",F1:"F2.[mp3|ogg]",F2:"F3.[mp3|ogg]",F3:"F4.[mp3|ogg]",F4:"F5.[mp3|ogg]",F5:"F6.[mp3|ogg]",F6:"F7.[mp3|ogg]",G0:"G1.[mp3|ogg]",G1:"G2.[mp3|ogg]",G2:"G3.[mp3|ogg]",G3:"G4.[mp3|ogg]",G4:"G5.[mp3|ogg]",G5:"G6.[mp3|ogg]",G6:"G7.[mp3|ogg]",Gb0:"Gb1.[mp3|ogg]",Gb1:"Gb2.[mp3|ogg]",Gb2:"Gb3.[mp3|ogg]",Gb3:"Gb4.[mp3|ogg]",Gb4:"Gb5.[mp3|ogg]",Gb5:"Gb6.[mp3|ogg]",Gb6:"Gb7.[mp3|ogg]"},Je={minify:!1,ext:".[mp3|ogg]",baseUrl:"https://raw.githubusercontent.com/mohan-cao/3MLE2MS2-soundfonts/master/",list:["piano","electric-piano","harpsichord","harp","guitar","electric-guitar","acoustic-bass","electric-bass","violin","pizzicato-strings","cello","clarinet","oboe","ocarina","pan-flute","saxophone","trombone","trumpet","harmonica","steel-drums","timpani","tom-tom","vibraphone","xylophone"],setExt:function(e){var t;for(t=0;t<=this.list.length-1;t++)for(var n in this[this.list[t]])this[this.list[t]][n]=this[this.list[t]][n].replace(this.ext,e);return this.ext=e,console.log("sample extensions set to "+this.ext)},load:function(){var e=Object(ze.a)(Ue.a.mark(function e(t){var n,a,r,i,o,l,s,c,u,m;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t||{}).instruments=n.instruments||this.list,n.baseUrl=n.baseUrl||this.baseUrl,n.ext&&(n.ext!==this.ext&&this.setExt(n.ext),n.ext=this.ext),a={},!Array.isArray(n.instruments)){e.next=21;break}i=function(e,t){return t%c!==0},o=function(e){delete s[e]},l=function(e,t,n){return new Promise(function(a,i){try{e[t.instruments[r]]=new Y.a.Sampler(n,{baseUrl:t.baseUrl+t.instruments[r]+"/",onload:a})}catch(o){i(o)}})},r=0;case 10:if(!(r<=n.instruments.length-1)){e.next=18;break}return s=this.list.indexOf(-1!==n.instruments[r])?Xe:this[n.instruments[r]],!0!==this.minify&&!0!==n.minify||(c=1,Object.keys(s).length>=17&&(c=2),Object.keys(s).length>=33&&(c=4),Object.keys(s).length>=49&&(c=6),Object.keys(s).filter(i).forEach(o)),e.next=15,l(a,n,s);case 15:r++,e.next=10;break;case 18:return e.abrupt("return",a);case 21:return s=this.list.indexOf(-1!==n.instruments[r])?Xe:this[n.instruments],!0!==this.minify&&!0!==n.minify||(c=1,Object.keys(s).length>=17&&(c=2),Object.keys(s).length>=33&&(c=4),Object.keys(s).length>=49&&(c=6),Object.keys(s).filter(function(e,t){return t%c!==0}).forEach(function(e){delete s[e]})),m=function(){return new Promise(function(e,t){try{u=new Y.a.Sampler(s,{baseUrl:n.baseUrl+n.instruments+"/",onload:e})}catch(a){t(a)}})},e.next=26,m();case 26:return e.abrupt("return",u);case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},He=function(e){var t=e.className,n=e.style;return u.a.createElement("svg",{className:t,style:Object(b.a)({},n),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",null,u.a.createElement("rect",{id:"svg_2",height:"36",width:"11.145036",y:"0",x:"0",strokeWidth:"0",stroke:"#0f0f00"}),u.a.createElement("rect",{id:"svg_4",height:"36",width:"11.145036",y:"0",x:"25",strokeWidth:"0",stroke:"#0f0f00"})))},qe=function(e){var t=e.className,n=e.style;return u.a.createElement("svg",{className:t,style:Object(b.a)({},n),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",null,u.a.createElement("path",{stroke:"#0f0f00",transform:"rotate(90 17.946430206298828,18.103294372558597) ",id:"svg_3",d:"m-0.173562,36.081596l18.119992,-35.956603l18.119992,35.956603l-36.239984,0z",strokeOpacity:"null",strokeWidth:"0"})))},Ke=function(e){var t=e.className,n=e.style;return u.a.createElement("svg",{className:t,style:Object(b.a)({},n),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",null,u.a.createElement("rect",{id:"svg_4",height:"36",width:"35.874996",y:"-0.125",x:"0",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"0",stroke:"#0f0f00"})))},Qe=function(e){var t=e.className,n=e.style;return u.a.createElement("svg",{className:t,style:Object(b.a)({},n),viewBox:"1 0 55 80",xmlns:"http://www.w3.org/2000/svg"},u.a.createElement("g",{transform:"matrix(1 0 0 -1 0 80)"},u.a.createElement("rect",{width:"10",height:"20",rx:"3"},u.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})),u.a.createElement("rect",{x:"15",width:"10",height:"80",rx:"3"},u.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})),u.a.createElement("rect",{x:"30",width:"10",height:"50",rx:"3"},u.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})),u.a.createElement("rect",{x:"45",width:"10",height:"30",rx:"3"},u.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}))))},$e=(n(243),n(8)),Ye=n(56),Ze=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).changeInstrument=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We;Y.a.Transport.stop(),Y.a.Transport.cancel(),n.setState({instrument:e,tracks:null,playback:!1,loading:!0},function(){Je.load({instruments:e}).then(function(t){console.log("Loaded "+e);var a=new Y.a.Meter;n.setState({synths:t.connect(a).toMaster(),loading:!1}),window.meter=a})})},n.scheduleTrack=function(){var e=n.state,t=e.synths,a=e.tracks;if(n.props.tracks!==a){Y.a.Transport.stop(),Y.a.Transport.cancel();var r=n.props.tracks?n.props.tracks.map(function(e){return Se(Me(e))}):[],i=r.map(function(e){return e.slice(-1)[0]}).map(function(e){return e&&e.hasOwnProperty("time")?e.time:0}).reduce(function(e,t){return e>t?e:t},0);for(var o in n.setState({tracks:n.props.tracks,duration:i,divisions:i/50}),r.slice(0,10))new Y.a.Part(function(e,n){t.triggerAttackRelease(n.note,n.duration,e,n.velocity)},r[o]).start(0);Y.a.Transport.scheduleRepeat(function(){var e=Y.a.Transport.seconds;n.setState({elapsedTime:e})},1,0),Y.a.Transport.schedule(function(){n.setState({playback:!1,elapsedTime:0}),Y.a.Transport.stop()},i)}},n.togglePlayback=function(e){if(e.preventDefault(),n.scheduleTrack(),"started"===n.state.playback)return Y.a.Transport.pause(),void n.setState({playback:"paused"});Y.a.Transport.seconds=n.state.elapsedTime?n.state.elapsedTime:0,Y.a.Transport.start(),n.setState({playback:"started"})},n.stopPlayback=function(e){e.preventDefault(),Y.a.Transport.stop(),Y.a.Transport.cancel(),n.setState({tracks:null,playback:!1,elapsedTime:0,duration:0,divisions:0})},n.seek=function(e){var t=n.state.playback;"started"===t&&(Y.a.Transport.pause(),t="paused"),n.setState({playback:t,elapsedTime:e})},n.state={synths:[],tracks:[],duration:0,elapsedTime:0,playback:!1,divisions:0,loading:!0,instrument:We},window.halfNote=Re,n}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.changeInstrument()}},{key:"componentWillUnmount",value:function(){Y.a.Transport.stop(),Y.a.Transport.cancel(),Y.a.Transport.dispose()}},{key:"render",value:function(){var e=this,t=this.props.tracks,n=this.state,a=n.playback,r=n.divisions,i=n.duration,o=n.elapsedTime,l=n.loading,s=n.instrument,c=r&&r<1?1/r:1,m=!t||!t.length||l,g=u.a.createElement("div",{style:{display:"inline-block",marginRight:10}},u.a.createElement(Ye.a,{color:"secondary",style:{width:"4em"},value:o*c,onChange:function(t,n){return e.seek(n/c)},disabled:m,min:0,max:i?i*c:0,step:r?r*c:0}));return u.a.createElement("div",{className:"Synthesiser"},l?u.a.createElement($e.a,{style:{marginRight:"1em"},variant:"outlined",color:"primary",disabled:!0},u.a.createElement(Qe,{style:{height:"1em",fill:"currentColor",marginRight:"0.3em"},alt:"Loading"}),"Loading"):u.a.createElement("div",{style:{display:"inline-block"}},u.a.createElement($e.a,{style:{height:"2em"},variant:"outlined",color:"secondary",onClick:this.togglePlayback,disabled:m},"started"===a?u.a.createElement(He,{style:{height:"1em",fill:"currentColor"}}):u.a.createElement(qe,{style:{height:"1em",fill:"currentColor"}})),u.a.createElement($e.a,{style:{marginRight:"1em",height:"2em"},variant:"outlined",color:"secondary",onClick:this.stopPlayback,disabled:m},u.a.createElement(Ke,{style:{height:"1em",fill:"currentColor"}}))),g,u.a.createElement($e.b,{disabled:l,color:"grey",style:{display:"inline-block",marginRight:10}},"".concat(Math.floor(o/60),":").concat(("0"+Math.floor(o)%60).slice(-2),"/").concat(Math.floor(i/60),":").concat(("0"+Math.floor(i)%60).slice(-2))),u.a.createElement($e.e,{style:{height:"2em"},input:u.a.createElement($e.d,{labelWidth:0}),color:"primary",disabled:l,value:s,onChange:function(t){return e.changeInstrument(t.target.value)}},Je.list.map(function(e){return u.a.createElement($e.c,{key:e,value:e},e)})))}}]),t}(c.Component),et=(Ie=function(e,t){var n,a=(n=e.target.result,I(n).slice(0,_));for(var r in a)a[r]=t(a[r]);var i=function(e){for(var t=JSON.parse(JSON.stringify(A)),n=0;n<_;n++)n<e.length?F(t,"#text",e[n]):F(t,"#text",void 0);return{result:t,length:e.map(function(e){return e.length}).reduce(function(e,t){return e+t},0)}}(a),o=i.result;return{length:i.length,result:R(o),mml:a}},Fe=function(e,t,n){var a=function(e){var t=Q(q,e);return t&&(t=t.map(function(e){return K(e)})),t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;return!0===P.a.validate(e)?P.a.parse(e,t):{}}(e.target.result));for(var r in a)a[r]=t(a[r]);return Object(b.a)({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoding:X,title:J,source:H};t.encoding||(t.encoding=X),t.title||(t.title=J),t.source||(t.source=H);for(var n="",a=0;a<e.length;a++)n+="[Channel".concat(a+1,"]\n").concat(e[a],"\n");return{length:e.map(function(e){return e.length}).reduce(function(e,t){return e+t},0),result:"[Settings]\nEncoding=".concat(t.encoding,"\nTitle=").concat(t.title,"\nSource=").concat(t.source,"\nMemo=\n").concat(n)}}(a,{title:n}),{mml:a})},function(e){return e===j?Ie:e===C?Fe:void 0}),tt=function(e,t){return 0===t?Ge(e):2===t?Pe(e):e},nt=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).uploadFile=function(t){var n=t.target.files[0],a=D(n);if(!a)return e.setState({file:null}),!1;e.setState({changed:!0,file:{name:n.name.split(".")[0],type:a,text:n}})},e.convert=function(t){if(t.preventDefault(),e.state.file){var n=[],a=function(a){try{return tt(a,e.state.scaleTrack)}catch(t){return n.push(t.message),""}},r=new FileReader,i=e.state.file,o=i.name,l=i.type,s=i.text;r.onload=function(t){var r=et(l)(t,a,o),i=r.result,s=r.length,c=r.mml;e.setState({result:i,length:s,changed:!1,mml:c,errors:n,download:{text:i,name:o+"."+(l===j?C:j)}})},r.readAsText(s)}else window.alert("Please select a valid MS2MML/3MLE file")},e.download=function(t){t.preventDefault(),E()(new File([e.state.download.text],e.state.download.name,{type:"text/plain;charset=utf-8"}))},e.state={file:null,result:"",scaleTrack:1},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.changed,a=t.result,r=t.length,i=t.download,o=t.mml,l=t.file,s=t.scaleTrack,c=t.errors,m=l?"Generate "+(l.type===j?"MS2MML":"3MLE MML"):"Please select a file to upload",g=!r||r<=0?"Download...nothing?":r<=3e3?"Download (Novice)":r<=5e3?"Download (Intermediate)":r<=1e4?"Download (Advanced)":"Download (Impossible)";return u.a.createElement("form",{className:"Form-div "+this.props.className},u.a.createElement("div",{className:"Form-leftDiv"},u.a.createElement($e.a,{className:"button",variant:"outlined",color:"primary",component:"label"},"Select any MML/MS2MML file",u.a.createElement("input",{name:"file-input",id:"file-input",type:"file",accept:T,onChange:this.uploadFile})),u.a.createElement("div",null,u.a.createElement($e.g,{color:"primary"},"\u25bc")),u.a.createElement("div",{className:"buttonDiv"},u.a.createElement($e.a,{className:"button",variant:"outlined",color:"primary",onClick:this.convert,disabled:!l},n?u.a.createElement(w,{style:{height:"0.8em",fill:"currentColor",paddingRight:10}}):u.a.createElement("div",null),m)),u.a.createElement("div",{style:{width:"50%",padding:10}},u.a.createElement($e.g,{style:{marginBottom:5}},"Note length: ",s>1?"Doubled":s<1?"Halved":"1-to-1"),u.a.createElement(Ye.a,{value:s,onChange:function(t,n){return e.setState({changed:!!a,scaleTrack:n})},min:0,max:2,step:1})),i?u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement($e.g,{color:"primary"},"\u25bc")),u.a.createElement($e.a,{className:"button",variant:"outlined",color:"secondary",onClick:this.download},g),r>1e4?u.a.createElement($e.g,{color:"error",variant:"body1"},u.a.createElement(k.a,{style:{fontSize:"1em",marginRight:5}}),"This song is unplayable in-game with "+Math.round(r/1e3)+"K characters"):u.a.createElement($e.g,{variant:"body1"},u.a.createElement(N.a,{style:{fontSize:"1em",marginRight:5}}),"Total length: ",r," characters"),l&&l.type===j?u.a.createElement($e.g,{variant:"body1"},u.a.createElement(N.a,{style:{fontSize:"1em",marginRight:5}}),"Maximum 10 tracks allowed"):"",c?c.map(function(e){return u.a.createElement($e.g,{color:"error",variant:"body1",key:e},u.a.createElement(k.a,{style:{fontSize:"1em",marginRight:5}}),e)}):""):u.a.createElement("div",null)),u.a.createElement("div",{className:"Form-rightDiv"},u.a.createElement("div",{style:{display:"flex",alignItems:"center"}},u.a.createElement($e.g,{variant:"h1",style:{marginRight:20,fontSize:"2em"}},"Preview"),o&&o.length?u.a.createElement(Ze,{tracks:o}):u.a.createElement("div",null)),u.a.createElement("textarea",{className:"Form-textResult",value:a,readOnly:!0})))}}]),t}(c.Component),at=n(133),rt=n.n(at),it=n(134),ot=n.n(it),lt=(n(396),n(398),n(23)),st=n(83),ct=n.n(st),ut=n(137),mt=n.n(ut),gt=n(135),ht=n(136),pt=Object(lt.createMuiTheme)({palette:{primary:ct.a,secondary:mt.a},typography:{useNextVariants:!0},overrides:{MuiFormLabel:{root:{color:ct.a[400]}}}}),dt=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={flip:!1},e}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.flip;return u.a.createElement(lt.MuiThemeProvider,{theme:pt},u.a.createElement("div",{className:"App"},u.a.createElement("header",{className:"App-header"},u.a.createElement("img",{src:rt.a,className:t?"App-logo flip":"App-logo bob",style:{zIndex:2},alt:"logo",onClick:function(){return e.setState({flip:!0})},onAnimationEnd:function(){return e.setState({flip:!1})}}),u.a.createElement("img",{src:ot.a,className:"App-bg",alt:"bg"}),u.a.createElement($e.g,{color:"primary",variant:"h1",style:{zIndex:3,fontSize:"1em",fontWeight:550,textShadow:"black 0px 0.1em 0.3em"}},"3MLE to MS2MML converter")),u.a.createElement(nt,{className:"App-form"}),u.a.createElement("div",{className:"SocialButton",style:{position:"fixed",top:0,left:0,zIndex:10}},u.a.createElement($e.f,{title:"Find this project on GitHub!",placement:"right"},u.a.createElement("a",{className:"btn github",href:"https://github.com/mohan-cao/3MLE2MS2"},u.a.createElement(gt.a,{className:"fa",icon:ht.a}))))))}}]),t}(c.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(u.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e){e.exports={ms2:{melody:{__cdata:"#text"},chord:[{"@_index":"1",__cdata:"#text"},{"@_index":"2",__cdata:"#text"},{"@_index":"3",__cdata:"#text"},{"@_index":"4",__cdata:"#text"},{"@_index":"5",__cdata:"#text"},{"@_index":"6",__cdata:"#text"},{"@_index":"7",__cdata:"#text"},{"@_index":"8",__cdata:"#text"},{"@_index":"9",__cdata:"#text"}]}}}},[[225,2,1]]]);
//# sourceMappingURL=main.52710f59.chunk.js.map