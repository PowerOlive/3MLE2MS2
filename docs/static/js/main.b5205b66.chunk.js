(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/mushroom.7f63adae.png"},125:function(e,t,a){e.exports=a.p+"static/media/bg2.3fec2c14.jpg"},216:function(e,t,a){e.exports=a(371)},221:function(e,t,a){},230:function(e,t,a){},234:function(e,t,a){},367:function(e,t,a){},369:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),o=a.n(i),l=(a(221),a(11)),s=a(12),c=a(19),u=a(18),m=a(20),g=a(23),p=a(29),h=a.n(p),d=a(120),f=a.n(d),b=function(e){var t=e.className,a=e.style;return r.a.createElement("svg",{className:t,style:Object(g.a)({},a),viewBox:"0 0 65 65"},r.a.createElement("g",null,r.a.createElement("path",{d:"m32.5 4.999c-5.405 0-10.444 1.577-14.699 4.282l-5.75-5.75v16.11h16.11l-6.395-6.395c3.18-1.787 6.834-2.82 10.734-2.82 12.171 0 22.073 9.902 22.073 22.074 0 2.899-0.577 5.664-1.599 8.202l4.738 2.762c1.47-3.363 2.288-7.068 2.288-10.964 0-15.164-12.337-27.501-27.5-27.501z"}),r.a.createElement("path",{d:"m43.227 51.746c-3.179 1.786-6.826 2.827-10.726 2.827-12.171 0-22.073-9.902-22.073-22.073 0-2.739 0.524-5.35 1.439-7.771l-4.731-2.851c-1.375 3.271-2.136 6.858-2.136 10.622 0 15.164 12.336 27.5 27.5 27.5 5.406 0 10.434-1.584 14.691-4.289l5.758 5.759v-16.112h-16.111l6.389 6.388z"})))},v="mml",y="ms2mml",E=function(e){if(e&&e.name)return[v,y].filter(function(t){return t===e.name.split(".")[1].toLowerCase()})[0]};var w=function(e){return".".concat(e.toLowerCase(),",.").concat(e.toUpperCase())},x=(w(v),w(y),w(v)+","+w(y)),k=a(54),O=10,j=function(e){var t=e[0].length;return e.index+t},C=function(e){return e.split("\n").filter(function(e){return!e.trim().startsWith("//")}).map(function(e){return e.replace(/(\/\*.*\*\/|\s)*/g,"").trim()}).join("")},N=function(e){var t,a=[],n=[],r=/\[Channel[0-9]+\]/g;do{(t=r.exec(e))&&a.push(t)}while(t);if(!a||0===a.length)throw Error("Does not contain tracks!");a.push({index:e.lastIndexOf("[3MLE EXTENSION]")});for(var i=0;i<a.length-1;i++)n.push(C(e.slice(j(a[i]),a[i+1].index)));return n};function D(e,t,a){for(var n in e)if(e.hasOwnProperty(n)){if(e[n]===t)return e[n]=a,!0;if("object"===typeof e[n]&&null!==e[n]&&D(e[n],t,a))return!0}return!1}function M(e){return N(e).slice(0,O)}var A={attributeNamePrefix:"@_",ignoreAttributes:!1,cdataTagName:"__cdata",cdataPositionChar:"\\c",format:!0,indentBy:"  ",supressEmptyNode:!1};function B(e){return'<?xml version="1.0" encoding="utf-8"?>\n'+function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return new p.j2xParser(t).parse(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:A)}var T=a(75),_=a.n(T),S={attributeNamePrefix:"@_",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!0,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,cdataTagName:"__cdata",cdataPositionChar:"\\c",localeRange:"",parseTrueNumberOnly:!1,attrValueProcessor:function(e){return _.a.decode(e,{isAttributeValue:!0})},tagValueProcessor:function(e){return _.a.decode(e)}};var G=a(55),F="iso-8859-1",P="Untitled",I="Big Buck Bunny",L=function e(t,a){var n={};for(var r in t)if(t.hasOwnProperty(r)){if(t[r]===a)return r;if("object"===typeof t[r]&&null!==t[r]){var i=e(t[r],a);i&&(n[r]=i)}}return n}(k,"#text"),R=function(e){return e.split("\n").filter(function(e){return!e.trim().startsWith("//")}).map(function(e){return e.replace(/(\/\*.*\*\/|\s)*/g,"").trim()}).join("")};function U(e){var t=W(L,e);return t&&(t=t.map(function(e){return R(e)})),t}function W(e,t){var a=[];for(var n in e)if("object"===typeof e[n]&&null!==e[n])a.push.apply(a,Object(G.a)(W(e[n],t[n])));else if("string"===typeof e[n]){t.hasOwnProperty(n)&&t[n].hasOwnProperty(e[n])&&a.push(t[n][e[n]].trim())}return a}a(230);var z=a(8),V=a.n(z),J=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"run",value:function(e){throw new Error("Not implemented")}}]),e}(),H=8,X=0,$=15,q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).value="number"===typeof e&&e>=X&&e<=$?e:H,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){e.volume=this.value/$}}],[{key:"handleVolumeChange",value:function(e){return"v"!==e[0]&&"v"!==e[1]?e:new t(parseInt(e.slice("&"===e[0]?2:1)))}}]),t}(J),K=120,Q=32,Y=255,Z=96,ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).value="number"===typeof e&&e>=Q&&e<=Y?e:K,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){e.tempo=this.value}}],[{key:"handleTempoChange",value:function(e){return"t"!==e[0]&&"t"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),new t(parseInt(e.slice(1))))}}]),t}(J),te=4,ae=1,ne=64,re=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).value="number"===typeof e&&e>=ae&&e<=ne?e:te,a.dotted=!!n,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){e.measureDivision=this}}],[{key:"handleMDivChange",value:function(e){return"l"!==e[0]&&"l"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),"."===e[e.length-1]?new t(parseInt(e.slice(1,-1)),!0):new t(parseInt(e.slice(1))))}}]),t}(J),ie="UP",oe="DOWN",le=4,se=0,ce=8,ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).value=e===ie||e===oe?e:"number"===typeof e&&e>=se&&e<=ce?e:null,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){this.value===ie&&e.octave<8?e.octave++:this.value===oe&&e.octave>1?e.octave--:"number"===typeof this.value&&(e.octave=this.value)}}],[{key:"handleOctaveChange",value:function(e){return"o"!==e[0]&&"<"!==e[0]&&">"!==e[0]&&"o"!==e[1]&&"<"!==e[1]&&">"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),">"===e[0]?new t(ie):"<"===e[0]?new t(oe):new t(parseInt(e.slice(1))))}}]),t}(J),me=function(e){function t(e){var a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).value="number"===typeof e&&e>=1&&e<=64?e:null,a.dotted=!!n,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){e.addRest(fe(this,e.measureDivision,e.tempo))}}],[{key:"handleRestChange",value:function(e){return"r"!==e[0]&&"r"!==e[1]?e:("&"===e[0]&&(e=e.slice(1)),"."===e[e.length-1]?new t(parseInt(e.slice(1,-1)),!0):new t(parseInt(e.slice(1))))}}]),t}(J),ge={0:"C",1:"C#",2:"D",3:"D#",4:"E",5:"F",6:"F#",7:"G",8:"G#",9:"A",10:"A#",11:"B"},pe={"B#":"C",Cb:"B","E#":"F",Fb:"E"},he=function(e){function t(e,a){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a))).note=e,n.value="number"===typeof a&&a>0&&a<=64?a:null,r&&(n.dotted=!!r),i&&(n.tied=!!i),o&&(n.octave=o),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"run",value:function(e){var t=fe(this,e.measureDivision,e.tempo),a=this.note.toString()+(this.octave?this.octave:e.octave);this.tied?e.addTie(a,t):e.playNote(a,t)}}],[{key:"handleNoteChange",value:function(e){if(!e)return e;var a=e.toString().match(/^(&)?([a-g][-+#]?)([0-9]*)?(\.)?/);if(!a)return e;var n=a[2].toUpperCase().replace("-","b").replace("+","#");return pe.hasOwnProperty(n)&&(n=pe[n]),new t(n,a[3]?parseInt(a[3]):null,a[4],a[1])}},{key:"handleExactNoteChange",value:function(e){if(!e)return e;var a=e.toString().match(/^(&)?n([0-9]*)/);if(!a)return e;var n=function(e){var t=Math.floor(e/12);return[ge[e%12],t]}(parseInt(a[2]));if(!n)throw new Error("wtf happened with note "+e);return new t(n[0],null,!1,a[1],n[1])}}]),t}(J),de=function(e,t,a){return Math.min(Math.max(e,t),a)};function fe(e,t,a){return 60*function(e,t){return e.value?de(Math.floor(384/e.value),6,384)*(e.dotted?1.5:1):e.dotted?1.5*de(Math.floor(384/t.value),6,384):de(Math.floor(384/t.value),6,384)*(t.dotted?1.5:1)}(e,t)/(a*Z)}var be=function(e){var t=[re.handleMDivChange,ee.handleTempoChange,q.handleVolumeChange,ue.handleOctaveChange,me.handleRestChange,he.handleExactNoteChange,he.handleNoteChange],a=e.match(/(&?[a-z][-+#]?[0-9]*\.?|[<>])/g);if(!a)return[];for(var n=0;n<a.length;n++){var r=a[n];for(var i in t)r=t[i](r);a[n]=r}return a},ve=function(e){var t=new ye([]);try{for(var a=0;a<e.length;a++)e[a]instanceof J&&e[a].run(t)}catch(n){console.error(n)}return t.playables},ye=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(l.a)(this,e),this.time=0,this.octave=le,this.tempo=K,this.measureDivision=new re(te),this.volume=H,this.previousNote=null,this.rest=0,this.playables=Object(G.a)(t)}return Object(s.a)(e,[{key:"playNote",value:function(e,t){this.time+=this.rest,this.rest=0,this.playables.push({note:e,duration:t,time:this.time,velocity:this.volume}),this.time+=t,this.previousNote=e}},{key:"addTie",value:function(e,t){if(!this.previousNote||!this.playables.length)return this.playNote(e,t);this.previousNote===e&&this.playables.slice(-1)[0].note===e?(this.playables[this.playables.length-1].duration+=t,this.time+=t,this.rest=0,this.previousNote=e):this.playNote(e,t)}},{key:"addRest",value:function(e){this.rest+=e,this.previousNote="R"}}]),e}();var Ee,we,xe=a(76),ke=a.n(xe),Oe=a(121),je="piano",Ce={A0:"A1.[mp3|ogg]",A1:"A2.[mp3|ogg]",A2:"A3.[mp3|ogg]",A3:"A4.[mp3|ogg]",A4:"A5.[mp3|ogg]",A5:"A6.[mp3|ogg]",A6:"A7.[mp3|ogg]",Ab0:"Ab1.[mp3|ogg]",Ab1:"Ab2.[mp3|ogg]",Ab2:"Ab3.[mp3|ogg]",Ab3:"Ab4.[mp3|ogg]",Ab4:"Ab5.[mp3|ogg]",Ab5:"Ab6.[mp3|ogg]",Ab6:"Ab7.[mp3|ogg]",B0:"B1.[mp3|ogg]",B1:"B2.[mp3|ogg]",B2:"B3.[mp3|ogg]",B3:"B4.[mp3|ogg]",B4:"B5.[mp3|ogg]",B5:"B6.[mp3|ogg]",B6:"B7.[mp3|ogg]",Bb0:"Bb1.[mp3|ogg]",Bb1:"Bb2.[mp3|ogg]",Bb2:"Bb3.[mp3|ogg]",Bb3:"Bb4.[mp3|ogg]",Bb4:"Bb5.[mp3|ogg]",Bb5:"Bb6.[mp3|ogg]",Bb6:"Bb7.[mp3|ogg]",C0:"C1.[mp3|ogg]",C1:"C2.[mp3|ogg]",C2:"C3.[mp3|ogg]",C3:"C4.[mp3|ogg]",C4:"C5.[mp3|ogg]",C5:"C6.[mp3|ogg]",C6:"C7.[mp3|ogg]",C7:"C8.[mp3|ogg]",D0:"D1.[mp3|ogg]",D1:"D2.[mp3|ogg]",D2:"D3.[mp3|ogg]",D3:"D4.[mp3|ogg]",D4:"D5.[mp3|ogg]",D5:"D6.[mp3|ogg]",D6:"D7.[mp3|ogg]",Db0:"Db1.[mp3|ogg]",Db1:"Db2.[mp3|ogg]",Db2:"Db3.[mp3|ogg]",Db3:"Db4.[mp3|ogg]",Db4:"Db5.[mp3|ogg]",Db5:"Db6.[mp3|ogg]",Db6:"Db7.[mp3|ogg]",E0:"E1.[mp3|ogg]",E1:"E2.[mp3|ogg]",E2:"E3.[mp3|ogg]",E3:"E4.[mp3|ogg]",E4:"E5.[mp3|ogg]",E5:"E6.[mp3|ogg]",E6:"E7.[mp3|ogg]",Eb0:"Eb1.[mp3|ogg]",Eb1:"Eb2.[mp3|ogg]",Eb2:"Eb3.[mp3|ogg]",Eb3:"Eb4.[mp3|ogg]",Eb4:"Eb5.[mp3|ogg]",Eb5:"Eb6.[mp3|ogg]",Eb6:"Eb7.[mp3|ogg]",F0:"F1.[mp3|ogg]",F1:"F2.[mp3|ogg]",F2:"F3.[mp3|ogg]",F3:"F4.[mp3|ogg]",F4:"F5.[mp3|ogg]",F5:"F6.[mp3|ogg]",F6:"F7.[mp3|ogg]",G0:"G1.[mp3|ogg]",G1:"G2.[mp3|ogg]",G2:"G3.[mp3|ogg]",G3:"G4.[mp3|ogg]",G4:"G5.[mp3|ogg]",G5:"G6.[mp3|ogg]",G6:"G7.[mp3|ogg]",Gb0:"Gb1.[mp3|ogg]",Gb1:"Gb2.[mp3|ogg]",Gb2:"Gb3.[mp3|ogg]",Gb3:"Gb4.[mp3|ogg]",Gb4:"Gb5.[mp3|ogg]",Gb5:"Gb6.[mp3|ogg]",Gb6:"Gb7.[mp3|ogg]"},Ne={minify:!1,ext:".[mp3|ogg]",baseUrl:"https://raw.githubusercontent.com/mohan-cao/3MLE2MS2-soundfonts/master/",list:["piano","electric-piano","harpsichord","harp","guitar","electric-guitar","acoustic-bass","electric-bass","violin","pizzicato-strings","cello","clarinet","oboe","ocarina","pan-flute","saxophone","trombone","trumpet","harmonica","steel-drums","timpani","tom-tom","vibraphone","xylophone"],setExt:function(e){var t;for(t=0;t<=this.list.length-1;t++)for(var a in this[this.list[t]])this[this.list[t]][a]=this[this.list[t]][a].replace(this.ext,e);return this.ext=e,console.log("sample extensions set to "+this.ext)},load:function(){var e=Object(Oe.a)(ke.a.mark(function e(t){var a,n,r,i,o,l,s,c,u,m;return ke.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t||{}).instruments=a.instruments||this.list,a.baseUrl=a.baseUrl||this.baseUrl,a.ext&&(a.ext!==this.ext&&this.setExt(a.ext),a.ext=this.ext),n={},!Array.isArray(a.instruments)){e.next=21;break}i=function(e,t){return t%c!==0},o=function(e){delete s[e]},l=function(e,t,a){return new Promise(function(n,i){try{e[t.instruments[r]]=new V.a.Sampler(a,{baseUrl:t.baseUrl+t.instruments[r]+"/",onload:n})}catch(o){i(o)}})},r=0;case 10:if(!(r<=a.instruments.length-1)){e.next=18;break}return s=this.list.indexOf(-1!==a.instruments[r])?Ce:this[a.instruments[r]],!0!==this.minify&&!0!==a.minify||(c=1,Object.keys(s).length>=17&&(c=2),Object.keys(s).length>=33&&(c=4),Object.keys(s).length>=49&&(c=6),Object.keys(s).filter(i).forEach(o)),e.next=15,l(n,a,s);case 15:r++,e.next=10;break;case 18:return e.abrupt("return",n);case 21:return s=this.list.indexOf(-1!==a.instruments[r])?Ce:this[a.instruments],!0!==this.minify&&!0!==a.minify||(c=1,Object.keys(s).length>=17&&(c=2),Object.keys(s).length>=33&&(c=4),Object.keys(s).length>=49&&(c=6),Object.keys(s).filter(function(e,t){return t%c!==0}).forEach(function(e){delete s[e]})),m=function(){return new Promise(function(e,t){try{u=new V.a.Sampler(s,{baseUrl:a.baseUrl+a.instruments+"/",onload:e})}catch(n){t(n)}})},e.next=26,m();case 26:return e.abrupt("return",u);case 27:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},De=function(e){var t=e.className,a=e.style;return r.a.createElement("svg",{className:t,style:Object(g.a)({},a),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("rect",{id:"svg_2",height:"36",width:"11.145036",y:"0",x:"0",strokeWidth:"0",stroke:"#0f0f00"}),r.a.createElement("rect",{id:"svg_4",height:"36",width:"11.145036",y:"0",x:"25",strokeWidth:"0",stroke:"#0f0f00"})))},Me=function(e){var t=e.className,a=e.style;return r.a.createElement("svg",{className:t,style:Object(g.a)({},a),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("path",{stroke:"#0f0f00",transform:"rotate(90 17.946430206298828,18.103294372558597) ",id:"svg_3",d:"m-0.173562,36.081596l18.119992,-35.956603l18.119992,35.956603l-36.239984,0z",strokeOpacity:"null",strokeWidth:"0"})))},Ae=function(e){var t=e.className,a=e.style;return r.a.createElement("svg",{className:t,style:Object(g.a)({},a),viewBox:"0 0 36 38",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",null,r.a.createElement("rect",{id:"svg_4",height:"36",width:"35.874996",y:"-0.125",x:"0",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"0",stroke:"#0f0f00"})))},Be=function(e){var t=e.className,a=e.style;return r.a.createElement("svg",{className:t,style:Object(g.a)({},a),viewBox:"1 0 55 80",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{transform:"matrix(1 0 0 -1 0 80)"},r.a.createElement("rect",{width:"10",height:"20",rx:"3"},r.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})),r.a.createElement("rect",{x:"15",width:"10",height:"80",rx:"3"},r.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})),r.a.createElement("rect",{x:"30",width:"10",height:"50",rx:"3"},r.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})),r.a.createElement("rect",{x:"45",width:"10",height:"30",rx:"3"},r.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}))))},Te=(a(234),a(16)),_e=a(122),Se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).changeInstrument=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;V.a.Transport.stop(),V.a.Transport.cancel(),a.setState({instrument:e,tracks:null,playback:!1,loading:!0},function(){Ne.load({instruments:e}).then(function(t){console.log("Loaded "+e);var n=new V.a.Meter;a.setState({synths:t.connect(n).toMaster(),loading:!1}),window.meter=n})})},a.scheduleTrack=function(){var e=a.state,t=e.synths,n=e.tracks;if(a.props.tracks!==n){V.a.Transport.stop(),V.a.Transport.cancel();var r=a.props.tracks?a.props.tracks.map(function(e){return ve(be(e))}):[],i=r.map(function(e){return e.slice(-1)[0]}).map(function(e){return e&&e.hasOwnProperty("time")?e.time:0}).reduce(function(e,t){return e>t?e:t},0);for(var o in a.setState({tracks:a.props.tracks,duration:i,divisions:i/50}),r.slice(0,10))new V.a.Part(function(e,a){t.triggerAttackRelease(a.note,a.duration,e,a.velocity)},r[o]).start(0);V.a.Transport.scheduleRepeat(function(){var e=V.a.Transport.seconds;a.setState({elapsedTime:e})},1,0),V.a.Transport.schedule(function(){a.setState({playback:!1,elapsedTime:0}),V.a.Transport.stop()},i)}},a.togglePlayback=function(e){if(e.preventDefault(),a.scheduleTrack(),"started"===a.state.playback)return V.a.Transport.pause(),void a.setState({playback:"paused"});V.a.Transport.seconds=a.state.elapsedTime?a.state.elapsedTime:0,V.a.Transport.start(),a.setState({playback:"started"})},a.stopPlayback=function(e){e.preventDefault(),V.a.Transport.stop(),V.a.Transport.cancel(),a.setState({tracks:null,playback:!1,elapsedTime:0,duration:0,divisions:0})},a.seek=function(e){var t=a.state.playback;"started"===t&&(V.a.Transport.pause(),t="paused"),a.setState({playback:t,elapsedTime:e})},a.state={synths:[],tracks:[],duration:0,elapsedTime:0,playback:!1,divisions:0,loading:!0,instrument:je},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.changeInstrument()}},{key:"componentWillUnmount",value:function(){V.a.Transport.stop(),V.a.Transport.cancel(),V.a.Transport.dispose()}},{key:"render",value:function(){var e=this,t=this.props.tracks,a=this.state,n=a.playback,i=a.divisions,o=a.duration,l=a.elapsedTime,s=a.loading,c=a.instrument,u=i&&i<1?1/i:1,m=!t||!t.length||s,g=r.a.createElement("div",{style:{display:"inline-block",marginRight:10}},r.a.createElement(_e.a,{color:"secondary",style:{width:"4em"},value:l*u,onChange:function(t,a){return e.seek(a/u)},disabled:m,min:0,max:o?o*u:0,step:i?i*u:0}));return r.a.createElement("div",{className:"Synthesiser"},s?r.a.createElement(Te.a,{style:{marginRight:"1em"},variant:"outlined",color:"primary",disabled:!0},r.a.createElement(Be,{style:{height:"1em",fill:"currentColor",marginRight:"0.3em"},alt:"Loading"}),"Loading"):r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(Te.a,{style:{height:"2em"},variant:"outlined",color:"secondary",onClick:this.togglePlayback,disabled:m},"started"===n?r.a.createElement(De,{style:{height:"1em",fill:"currentColor"}}):r.a.createElement(Me,{style:{height:"1em",fill:"currentColor"}})),r.a.createElement(Te.a,{style:{marginRight:"1em",height:"2em"},variant:"outlined",color:"secondary",onClick:this.stopPlayback,disabled:m},r.a.createElement(Ae,{style:{height:"1em",fill:"currentColor"}}))),g,r.a.createElement(Te.b,{disabled:s,color:"grey",style:{display:"inline-block",marginRight:10}},"".concat(Math.floor(l/60),":").concat(("0"+Math.floor(l)%60).slice(-2),"/").concat(Math.floor(o/60),":").concat(("0"+Math.floor(o)%60).slice(-2))),r.a.createElement(Te.e,{style:{height:"2em"},input:r.a.createElement(Te.d,{labelWidth:0}),color:"primary",disabled:s,value:c,onChange:function(t){return e.changeInstrument(t.target.value)}},Ne.list.map(function(e){return r.a.createElement(Te.c,{key:e,value:e},e)})))}}]),t}(n.Component),Ge=(Ee=function(e){var t=function(e){for(var t=JSON.parse(JSON.stringify(k)),a=M(e),n=0;n<O;n++)n<a.length?D(t,"#text",a[n]):D(t,"#text",void 0);return{result:t,length:a.map(function(e){return e.length}).reduce(function(e,t){return e+t},0)}}(e.target.result),a=t.result;return{length:t.length,result:B(a),mml:M(e.target.result)}},we=function(e,t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return!0===h.a.validate(e)?h.a.parse(e,t):{}}(e.target.result);return Object(g.a)({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encoding:F,title:P,source:I};t.encoding||(t.encoding=F),t.title||(t.title=P),t.source||(t.source=I);for(var a=U(e),n="",r=0;r<a.length;r++)n+="[Channel".concat(r+1,"]\n").concat(a[r],"\n");return{length:a.map(function(e){return e.length}).reduce(function(e,t){return e+t},0),result:"[Settings]\nEncoding=".concat(t.encoding,"\nTitle=").concat(t.title,"\nSource=").concat(t.source,"\nMemo=\n").concat(n)}}(a,{title:t}),{mml:U(a)})},function(e){return e===v?Ee:e===y?we:void 0}),Fe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).uploadFile=function(t){var a=t.target.files[0],n=E(a);if(!n)return e.setState({file:null}),!1;e.setState({changed:!0,file:{name:a.name.split(".")[0],type:n,text:a}})},e.convert=function(t){if(t.preventDefault(),e.state.file){var a=new FileReader,n=e.state.file,r=n.name,i=n.type,o=n.text;a.onload=function(t){var a=Ge(i)(t,r),n=a.result,o=a.length,l=a.mml;e.setState({result:n,length:o,changed:!1,mml:l,download:{text:n,name:r+"."+(i===v?y:v)}})},a.readAsText(o)}else window.alert("Please select a valid MS2MML/3MLE file")},e.download=function(t){t.preventDefault(),f()(new File([e.state.download.text],e.state.download.name,{type:"text/plain;charset=utf-8"}))},e.state={file:null,result:""},window.parser=h.a,e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.changed,a=e.result,n=e.length,i=e.download,o=e.mml,l=this.state.file?"Generate "+(this.state.file.type===v?"MS2MML":"3MLE MML"):"Please select a file to upload",s=!n||n<=0?"Download...nothing?":n<=3e3?"Download (Novice)":n<=5e3?"Download (Intermediate)":n<=1e4?"Download (Advanced)":"Download (Impossible)";return r.a.createElement("form",{className:"Form-div "+this.props.className},r.a.createElement("div",{className:"Form-leftDiv"},r.a.createElement(Te.a,{className:"button",variant:"outlined",color:"primary",component:"label"},"Select any MML/MS2MML file",r.a.createElement("input",{name:"file-input",id:"file-input",type:"file",accept:x,onChange:this.uploadFile})),r.a.createElement("div",null,r.a.createElement(Te.g,{color:"primary"},"\u25bc")),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement(Te.a,{className:"button",variant:"outlined",color:"primary",onClick:this.convert,disabled:!this.state.file},t?r.a.createElement(b,{style:{height:"0.8em",fill:"currentColor",paddingRight:10}}):r.a.createElement("div",null),l)),i?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Te.g,{color:"primary"},"\u25bc")),r.a.createElement(Te.a,{className:"button",variant:"outlined",color:"secondary",onClick:this.download},s),r.a.createElement(Te.g,{variant:"body1"},this.state.file&&this.state.file.type===v?"Max. 10 tracks allowed":"")):r.a.createElement("div",null)),r.a.createElement("div",{className:"Form-rightDiv"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(Te.g,{variant:"h1",style:{marginRight:20,fontSize:"2em"}},"Preview"),o&&o.length?r.a.createElement(Se,{tracks:o}):r.a.createElement("div",null)),r.a.createElement("textarea",{className:"Form-textResult",value:a,readOnly:!0})))}}]),t}(n.Component),Pe=a(124),Ie=a.n(Pe),Le=a(125),Re=a.n(Le),Ue=(a(367),a(369),a(22)),We=a(78),ze=a.n(We),Ve=a(128),Je=a.n(Ve),He=a(126),Xe=a(127),$e=Object(Ue.createMuiTheme)({palette:{primary:ze.a,secondary:Je.a},typography:{useNextVariants:!0},overrides:{MuiFormLabel:{root:{color:ze.a[400]}}}}),qe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={flip:!1},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.flip;return r.a.createElement(Ue.MuiThemeProvider,{theme:$e},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:Ie.a,className:t?"App-logo flip":"App-logo bob",style:{zIndex:2},alt:"logo",onClick:function(){return e.setState({flip:!0})},onAnimationEnd:function(){return e.setState({flip:!1})}}),r.a.createElement("img",{src:Re.a,className:"App-bg",alt:"bg"}),r.a.createElement(Te.g,{color:"primary",variant:"h1",style:{zIndex:3,fontSize:"1em",fontWeight:550,textShadow:"black 0px 0.1em 0.3em"}},"3MLE to MS2MML converter")),r.a.createElement(Fe,{className:"App-form"}),r.a.createElement("div",{className:"SocialButton",style:{position:"fixed",top:0,left:0,zIndex:10}},r.a.createElement(Te.f,{title:"Find this project on GitHub!",placement:"right"},r.a.createElement("a",{className:"btn github",href:"https://github.com/mohan-cao/3MLE2MS2"},r.a.createElement(He.a,{className:"fa",icon:Xe.a}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},54:function(e){e.exports={ms2:{melody:{__cdata:"#text"},chord:[{"@_index":"1",__cdata:"#text"},{"@_index":"2",__cdata:"#text"},{"@_index":"3",__cdata:"#text"},{"@_index":"4",__cdata:"#text"},{"@_index":"5",__cdata:"#text"},{"@_index":"6",__cdata:"#text"},{"@_index":"7",__cdata:"#text"},{"@_index":"8",__cdata:"#text"},{"@_index":"9",__cdata:"#text"}]}}}},[[216,2,1]]]);
//# sourceMappingURL=main.b5205b66.chunk.js.map